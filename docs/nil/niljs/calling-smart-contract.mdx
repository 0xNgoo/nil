# `Nil.js`: calling smart contracts

This tutorial shows how to call [**the previously deployed manufacturer and retailer contracts**](./deploying-smart-contract.mdx).

## Via the contract factory

`Nil.js` exposes the contract factory, a Hardhat-like tool for interacting with smart contracts. 

To order a new product via the contract factory:

```ts showLineNumbers file=../../tests/working-with-smart-contracts-niljs.test.mjs start=startFactoryOrder end=endFactoryOrder
```

To attain the result:

```ts showLineNumbers file=../../tests/working-with-smart-contracts-niljs.test.mjs start=startFactoryProducts end=endFactoryProducts
```

## Via internal transactions 

To send funds to the retailer product and call the `orderProduct` function:

```ts showLineNumbers file=../../tests/working-with-smart-contracts-niljs.test.mjs start=startRetailerSendsTransactionToManufacturer end=endRetailerSendsTransactionToManufacturer
```

To receive and decode the currently created products:

```ts showLineNumbers file=../../tests/working-with-smart-contracts-niljs.test.mjs start=startRetailerRetrievesTheResult end=endRetailerRetrievesTheResult 
```

## Via external transactions

To order a new product using the retailer:

```ts showLineNumbers file=../../tests/working-with-smart-contracts-niljs.test.mjs start=startExternalSendTransactionToRetailer end=endExternalSendTransactionToRetailer
```

To receive and decode the currently created products:

```ts showLineNumbers file=../../tests/working-with-smart-contracts-niljs.test.mjs start=startRetailerRetrievesTheResult end=endRetailerRetrievesTheResult 
```
